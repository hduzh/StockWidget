# 打包说明

## 环境要求

- Python 3.11 或更高版本
- Windows 系统

## 安装依赖

```powershell
pip install -r requirements.txt
```

或者分别安装：

```powershell
pip install PySide6 requests keyboard Pillow pyinstaller
```

## 打包命令

### 方法一：单文件打包（推荐）

```powershell
python -m PyInstaller -F -w StockWidget.py --name StockWidget --icon StockWidget.ico --add-data "StockWidget.ico;."
```

### 方法二：目录打包（启动更快）

```powershell
python -m PyInstaller -w StockWidget.py --name StockWidget --icon StockWidget.ico --add-data "StockWidget.ico;."
```

## 参数说明

- `-F`: 打包成单个exe文件
- `-w`: 不显示控制台窗口
- `--name`: 生成的exe文件名
- `--icon`: exe图标
- `--add-data`: 添加额外文件（格式: "源文件;目标目录"）

## 输出位置

打包完成后，exe文件位于：

- **单文件打包**: `dist/StockWidget.exe`
- **目录打包**: `dist/StockWidget/StockWidget.exe`

## 注意事项

1. 首次打包可能需要较长时间下载依赖
2. 如果遇到 `No module named 'PIL'` 错误，需要先安装 Pillow
3. 任务栏/任务管理器图标不生效时，可以尝试重启资源管理器

## 已支持的功能

- ✅ A股（沪深京三市）
- ✅ 港股（自动识别5位代码）
- ✅ 实时行情显示
- ✅ K线图
- ✅ 透明浮窗
- ✅ 系统托盘
- ✅ 设置面板
- ✅ 自动保存配置
